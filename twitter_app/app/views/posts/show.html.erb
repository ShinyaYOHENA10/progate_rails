<%# 投稿詳細ページ like only one tweet shows on a monitor %>
<div class="main posts-show">
  <div class="container">
    <div class="posts-show-item">
      <div class="post-user-name">
        <!-- 以下imgタグはユーザーアイコン表示 -->
        <img src="<%= "/user_images/#{@user.image_name}" %>">
        
        <!-- link_toメソッドを用いてユーザー詳細ページへのリンクを作成 -->
        <%= link_to(@user.name, "/users/#{@user.id}") %>
      </div>
      
      <p>
        <%= @post.content %>
      </p>
      <div class="post-time">
        <%= @post.created_at %>
      </div>
            <!-- if文を用いてイイねの条件分岐　表示内容を切り替え -->
            <!-- user_idとﾛｸﾞｲﾝﾕｰｻﾞid,post_idと投稿idの真偽 -->
      <% if Like.find_by(user_id: @current_user.id, post_id: @post.id) %>
      いいね！済み
      <% else %>
      いいね！していません
      <% end %>

      <!-- ﾛｸﾞｲﾝﾕｰｻﾞidの投稿以外は編集不可にする -->
      <% if @post.user_id == @current_user.id %>
        <div class="post-menus">
          <%= link_to("編集", "/posts/#{@post.id}/edit") %>
          <%= link_to("削除", "/posts/#{@post.id}/destroy", {method: "post"}) %>
        </div>
      <% end %>
      
    </div>
  </div>
</div>

